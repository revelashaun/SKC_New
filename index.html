<!DOCTYPE html>
<html data-ng-app="skcApp">
<head>
    <title>Southern Knights Cruisers</title>
    <meta name="description" content="The Southern Knights Cruisers sponsors a cruise-in at Hardee's. Cruise in for Good Food, Good Music, Good Friends, Beautiful Classic Cars, Bikes & More." />
    <link rel="canonical" href="http://www.southerknightscruisers.com/index.html" />
    <link rel="shortcut icon" href="content/images/favicon.ico">
    <link href="Content/css/templatemo_style.css" rel="stylesheet" type="text/css" />
    <link href="Content/css/bootstrap.min.css" rel="stylesheet" />
    <link href="Content/css/bootstrap-responsive.min.css" rel="stylesheet" />
    <link href="Content/css/styles.css" rel="stylesheet" />
    <script src="app/app.js"></script>
    <script src="app/controllers/controllers.js"></script>
    <script src="Scripts/angular.js"></script>
    <script src="Scripts/angular-route.js"></script>
    <script src="Scripts/jquery.min.js"></script>
</head>

<body data-ng-controller="MainController">

    <div id="templatemo_header">

        <div id="header_left">
            <div id="site_title">
                <a href="index.html">Southern Knights Cruisers, Inc.<span>Colonial Heights, Virginia</span></a>
            </div> <!-- end of site_title -->
        </div>

        <div class="header_right1">
        </div>

        <div class="header_right">
            <div id="templatemo_menu">
                <ul>
                    <ul>
                        <li data-ng-class="{'active':getClass('/home')}"><a href="#/home">Home</a></li>
                        <li data-ng-class="{'active':getClass('/about')}"><a href="#/about">About</a></li>
                        <li data-ng-class="{'active':getClass('/events')}"><a href="#/events">Events</a></li>
                        <li data-ng-class="{'active':getClass('/gallery')}"><a href="#/gallery">Gallery</a></li>
                        <li data-ng-class="{'active':getClass('/sponsor')}"><a href="#/sponsor">Sponsors</a></li>
                        <li data-ng-class="{'active':getClass('/contact')}"><a href="#/contact">Contact Us</a></li>
                        <li class="last" data-ng-class="{'active':getClass('/veterans-show')}"><a href="#/veterans-show">Car Show</a></li>
                    </ul>
                </ul>
            </div> <!-- end of templatemo_menu -->
        </div>

        <div class="cleaner"></div>

    </div>
    <div id="templatemo_featured_content_wrapper">
        <!-- hardees background -->
        <div class="cleaner"></div>
    </div>

    <div id="templatemo_content_wrapper">
        <div id="content_main" data-ng-view=""><!--This is where dynamic data loads --></div>
        <div class="clear">&nbsp;</div>
        <div id="templatemo_footer_wrapper"> </div>
    </div>


    <!--I still need to move the below code out of index.html, but leaving that until it is all working 100%.
    That can be the final pre-prod deployment task -->

    <script>
        var urlBase = 'Views/';
        var titleBase = 'Southern Knights Cruisers | ';
        var app = angular.module('skcApp', ['ngRoute']);

        app.config(function($controllerProvider, $provide) {
            //Used to handle loading controllers dynamically
            app.controller = $controllerProvider.register;
            app.factory = $provide.factory;
        });

        app.config(function ($routeProvider) {
            $routeProvider
                    .when('/about',
                    {
                        controller: 'MainController',
                        templateUrl: urlBase + 'about.html'
                    })
                    .when('/contact',        {
                        controller: 'MainController',
                        templateUrl: urlBase + 'contact.html'
                    })
                    .when('/events',
                    {
                        controller: 'MainController',
                        templateUrl: urlBase + 'events.html'
                    })
                    .when('/gallery',
                    {
                        controller: 'MainController',
                        templateUrl: urlBase + 'gallery.html'
                    })
                    .when('/',
                    {
                        controller: 'MainController',
                        templateUrl: urlBase + 'home.html'
                    })
                    .when('/home',
                    {
                        controller: 'MainController',
                        templateUrl: urlBase + 'home.html'
                    })
                    .when('/mainContent',
                    {
                        controller: 'MainContentController',
                        templateUrl: urlBase + 'mainContent.html'
                    })
                    .when('/sponsor',
                    {
                        controller: 'MainController',
                        templateUrl: urlBase + 'sponsor.html'
                    })
                    .when('/veterans-show',
                    {
                        controller: 'MainController',
                        templateUrl: urlBase + 'veterans-show.html'
                    })
                    .when('/member-cars',
                    {
                        controller: 'MainController',
                        templateUrl: urlBase + 'member-cars.html'
                    })
                    .when('/2015-cruise-in',
                    {
                        controller: 'MainController',
                        templateUrl: urlBase + '2015-cruise-in.html'
                    })
                    .when('/2014-cruise-in',
                    {
                        controller: 'MainController',
                        templateUrl: urlBase + '2014-cruise-in.html'
                    })
                    .when('/2013-cruise-in',
                    {
                        controller: 'MainController',
                        templateUrl: urlBase + '2013-cruise-in.html'
                    })
                    .when('/mcguire-hospital14',
                    {
                        controller: 'MainController',
                        templateUrl: urlBase + 'mcguire-hospital14.html'
                    })
                    .when('/mcguire-hospital13',
                    {
                        controller: 'MainController',
                        templateUrl: urlBase + 'mcguire-hospital13.html'
                    })
                    .when('/2014-veterans',
                    {
                        controller: 'MainController',
                        templateUrl: urlBase + '2014-veterans.html'
                    })
                    .when('/2013-veterans',
                    {
                        controller: 'MainController',
                        templateUrl: urlBase + '2013-veterans.html'
                    })
                    .otherwise({ redirectTo: '/index.html' });
        });

        //The titles are not adding on each respective page, I need to investigate further
        app.controller('MainController', function ($scope, $templateCache, $http, $location) {
            $scope.template = '';
            $scope.html = '';
            $scope.pages = [
                { title: titleBase + 'About Us', url: urlBase + 'about.html' },
                { title: titleBase + 'Contact Us', url: urlBase + 'contact.html' },
                { title: titleBase + 'Events', url: urlBase + 'events.html' },
                { title: titleBase + 'Image Gallery', url: urlBase + 'gallery.html' },
                { title: titleBase + 'Home', url: urlBase + 'home.html' },
                { title: titleBase + 'Sponsors', url: urlBase + 'sponsor.html' },
            ];

            $scope.loadPage = function (page) {
                if (page.href) {
                    document.location = page.href; //Load new page
                }
                $scope.template = page.url;
                $http({ method: 'GET', url: page.url, cache: $templateCache })
                  .success(function (html) {
                      $scope.html = html;
                      $('textarea').text(html); //Had to go with this due to IE
            })
                  .error(function (html, status) {
                      $scope.html = 'Unable to load code: ' + status;
                  });
            }
        });


    </script>
</body>
</html>
